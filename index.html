<!DOCTYPE html>

<html>
    <head>
        <title>Anomia</title>
        <link type="text/css" rel="stylesheet" href="style.css" />
        <link type="text/css" rel="stylesheet" href="game.css" />

        <link rel="manifest" href="manifest.json">
    </head>

    <body>
        <div id="titleScreen">

            <h1>ANOMIA</h1>
            <button id="openInstructions" onclick="openSubscreen(instructions);">Instructions</button>
            <button id="openSettings" onclick="openSubscreen(settings);">Settings</button>
            <button id="play" onclick="openSubscreen(game);">Play</button>
        </div>

        <div id="instructions" style="display: none">
            <p>Each card has a symbol and a category on it. Each turn, a player draws a card and places it face up on their stack by clicking on the deck. This continues until two players have the same symbol on the card at the top of their stack: the two players now face off! (In this version, there will be no alert when a face-off begins, just a warning when attempting to draw another card during one. This is so that players must remain constantly vigilant.)</p>

            <p>During a face-off, each player attempts to say something that falls in the category of the other player's card. Avoid repeating the same thing for the same category twice. Whoever succeeds in saying something first takes the opponent's top card as a point by clicking on the win button. Note that taking the top card may reveal another card, triggering another face-off. Drawing a wildcard allows the two symbols shown on the wildcard to immediately face off. The wildcard is discarded after use.</p>

            <p>The game ends when there are no more cards to draw and no more face-offs left, and whoever has the most points from winning face-offs wins the game!</p>
            
            <button class="returnToTitle" onclick="returnToTitle(instructions);">Done</button>
        </div>

        <div id="settings" style="display: none">
            <fieldset>
                <legend>Players</legend>
                <div id="addPlayersDiv">
                    <button id="addPlayer" onclick="addPlayer()">+</button>
                    <button id="removePlayer" onclick="removePlayer()">-</button>
                </div>
                <div id="playerInputDiv"></div>
            </fieldset>
            
            <fieldset>
                <legend>Cards</legend>

                <h2>Symbols</h2>
                <div id="symbolsDiv">
                    <input type="radio" id="symbols3" name="symbols" value="3"><label for="symbols3">3</label>
                    <input type="radio" id="symbols4" name="symbols" value="4"><label for="symbols4">4</label>
                    <input type="radio" id="symbols5" name="symbols" value="5"><label for="symbols5">5</label>
                    <input type="radio" id="symbols6" name="symbols" value="6"><label for="symbols6">6</label>
                    <input type="radio" id="symbols7" name="symbols" value="7"><label for="symbols7">7</label>
                    <input type="radio" id="symbols8" name="symbols" value="8"><label for="symbols8">8</label>
                    <input type="radio" id="symbols9" name="symbols" value="9"><label for="symbols9">9</label>
                </div>
                <div id="symbolsPreview"></div>
            
                <h2>Categories</h2>
                <p>Select a list of category topic or make a custom one:</p>
                <select id="selectCategories" onchange="changeCategories()">
                    <option value="
                        River, African Country, European Country, Asian Country, South American Country, North American Country, Lake, Island, City in USA, City in Russia, City in China, City in France, City in UK, African Capital, European Capital, Asian Capital, South American Capital, North American Capital, Mountain, Desert, Biome, Sea, Gulf, State/Province, Strait, Peninsula
                    ">Geography</option>
                    <option value="
                        Astronaut, Actor/Actress, Football Player, Singer, Musician, Youtuber, Physicist, Chemist, Biologist, CEO, Author, King, Politician, European Explorer, Painter, Inventor, Comedian, Composer, Film Director, Philosopher, Mathemetician, Queen, Composer, Poet
                    ">People</option>
                    <option disabled>──────────</option>
                    <option id="customCategories">Custom</option>
                </select>
                <textarea id="customCategoriesField" placeholder="Separate with commas... (max 20 characters per category)"></textarea>

                <h2>Number of Cards</h2>
                <p>The game will end when all cards are drawn.</p>
                <div>
                    <input id="cardsNum" type="range" min="20" max="100" value="50" oninput="changeCardsNum(event)">
                    <label id="cardsNumLabel" for="cardsNum">50</label>
                </div>
            </fieldset>

            <fieldset>
                <legend>Appearance</legend>

                <h2>Layout</h2>
                <p id="layoutText"></p>
                <div id="layoutDiv">
                    <input type="radio" id="rowLayout" name="layout" value="row"><label for="rowLayout">Row</label>
                    <input type="radio" id="circularLayout" name="layout" value="circular"><label for="circularLayout">Circular</label>
                </div>

                <h2>Background</h2>
            </fieldset>
            
            <button class="returnToTitle" onclick="returnToTitle(settings);">Done</button>
        </div>

        <div id="game" style="display: none">
            <div id="playerDiv">
                
            </div>
            <div id="deckDiv">
                <img id="deck" class="cardH" src="images/cardBackH.png" />
                <h2>Cards Left: <span id="cardsLeft"></span></h2>
            </div>
            <div id="rankingDiv">
                <h2>Final Ranking:</h2>
                <ol id="ranking">
                    
                </ol>
            </div>
            <button class="quit" onclick="if(confirm('Are you sure you want to quit?')) {returnToTitle(game)}">Home</button>
        </div>
    </body>

    <div id="playerInputTemplate" class="playerInput">
        <input type="text">
    </div>

    <img id="symbolPreviewTemplate" class="symbolPreview" />

    <div id="playerTemplate" class="player">
        <h1 class="playerName"></h1>
        <h2 class="points"></h2>
        <button>Win</button> 
        <div class="stack">
            <img class="placeholderCard card" src="images/cardBack.png" />
        </div>
    </div>

    <img id="cardBackTemplate" class="cardBack card" src="images/cardBack.png" />

    <div id="cardTemplate" class="card cardFront">
        <p></p>
        <img class="symbol" />
        <p></p>
    </div>

    <div id="wildcardTemplate" class="card cardFront">
        <img class="symbol" />
        <p>WILD</p>
        <img class="symbol" />
    </div>

    <script type="text/javascript" src="script.js"></script>
    <script type="text/javascript" src="game.js"></script>
</html>